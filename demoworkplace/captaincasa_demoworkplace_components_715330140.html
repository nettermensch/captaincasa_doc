<html>
<head>
<style>
.java {font-family: monospace;background-color: #F0F0F0;}
.xml {font-family: monospace;background-color: #F0F0F0;}
</style>
</head>
<body>
<p>The context of this demo is the creation of a dialog using the CaptainCasa framework for the following purpose: <ul><li>Components</li><li>Straight Controls</li><li>Images</li><li>Image with mapped areas</li></ul></p>
<p>The IMAGEMAP is able to render an image together with mapped area information. This means you can define areas of the image, either by rectangle or polygon definition. Each area has a certain id and a text associated.<br><br>When the user moves the mouse over an area, then the mouse cursor indicates that there is something clickable + the tooltip shows the text of the area. When the user clicks onto the area then an event is communicated to the server side. Part of the event is the id of the area, that was clicked.<br><br>The definition of mapping areas is simple: either use &#34;rect(ID,TEXT,X,Y,WIDTH,HEIGHT)&#34; or use &#34;poly(ID,TEXT,X1,Y2,X2,Y2,...)&#34;. You can concatenate definitions, by separating them with a semicolon. Best, use ValueManeger.encodeCSV(...) for concatenating.<br><br>Please note: the mapped areas are only a definition of &#34;hot spots&#34; - there is e.g. no additional coloring associated. All the coloring comes through the image that is loaded.<br></p>
<p>This is the XML layout definition:</p>
<p class="xml">&lt;?xml&nbsp;version=&#34;1.0&#34;&nbsp;encoding=&#34;utf-8&#34;?&gt;<br>&lt;t:layoutdefinition&nbsp;xmlns:t=&#34;http://www.CaptainCasa.com/controllibrary/t&#34;&nbsp;xmlns:tpbc=&#34;http://www.CaptainCasa.com/controllibrary/tpbc&#34;&nbsp;&gt;<br>&lt;t:rowdemobodypane&nbsp;id=&#34;g_1&#34;&nbsp;objectbinding=&#34;#{d.DemoImageMap}&#34;&nbsp;&gt;<br>&lt;t:row&nbsp;id=&#34;g_2&#34;&nbsp;&gt;<br>&lt;t:imagemap&nbsp;id=&#34;g_3&#34;&nbsp;actionListener=&#34;#{d.DemoImageMap.onMapAreaAction}&#34;&nbsp;image=&#34;/images/pictures/germany.gif&#34;&nbsp;imageareas=&#34;rect(BAMMENTAL,Bammental&nbsp;(Home&nbsp;of&nbsp;CaptainCasa),144,211,14,11);rect(BERLIN,Berlin&nbsp;(Capital&nbsp;of&nbsp;Germany),226,96,10,10);rect(HAMBURG,Hamburg&nbsp;(2nd&nbsp;biggest&nbsp;city&nbsp;of&nbsp;Germany),161,55,10,10);poly(GERMANALPS,German&nbsp;Alps&nbsp;-&nbsp;very&nbsp;beatiful,177,272,186,266,243,265,252,274,236,276,222,272,203,279,192,274,184,282)&#34;&nbsp;/&gt;<br>&lt;/t:row&gt;<br>&lt;t:rowdistance&nbsp;id=&#34;g_4&#34;&nbsp;height=&#34;10&#34;&nbsp;/&gt;<br>&lt;t:row&nbsp;id=&#34;g_5&#34;&nbsp;&gt;<br>&lt;t:label&nbsp;id=&#34;g_6&#34;&nbsp;text=&#34;Selected&nbsp;Id&#34;&nbsp;width=&#34;100&#34;&nbsp;/&gt;<br>&lt;t:field&nbsp;id=&#34;g_7&#34;&nbsp;enabled=&#34;false&#34;&nbsp;text=&#34;#{d.DemoImageMap.selectedId}&#34;&nbsp;width=&#34;250&#34;&nbsp;/&gt;<br>&lt;/t:row&gt;<br>&lt;/t:rowdemobodypane&gt;<br>&lt;t:pageaddons&nbsp;id=&#34;g_pa&#34;/&gt;<br>&lt;/t:layoutdefinition&gt;</p>
<p>This is the Java code:</p>
<p class="java">package&nbsp;workplace;<br><br>import&nbsp;java.io.Serializable;<br><br>import&nbsp;javax.faces.event.ActionEvent;<br><br>import&nbsp;org.eclnt.editor.annotations.CCGenClass;<br>import&nbsp;org.eclnt.jsfserver.defaultscreens.Statusbar;<br>import&nbsp;org.eclnt.jsfserver.elements.events.BaseActionEventImageMapAreaSelected;<br>import&nbsp;org.eclnt.workplace.IWorkpageDispatcher;<br><br>@CCGenClass&nbsp;(expressionBase=&#34;#{d.DemoImageMap}&#34;)<br><br>public&nbsp;class&nbsp;DemoImageMap<br>&nbsp;&nbsp;&nbsp;&nbsp;extends&nbsp;PageBean<br>&nbsp;&nbsp;&nbsp;&nbsp;implements&nbsp;Serializable<br>{<br>&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;String&nbsp;m_selectedId&nbsp;=&nbsp;&#34;&lt;not&nbsp;yet&nbsp;selected&gt;&#34;;<br>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;String&nbsp;getSelectedId()&nbsp;{&nbsp;return&nbsp;m_selectedId;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;setSelectedId(String&nbsp;value)&nbsp;{&nbsp;m_selectedId&nbsp;=&nbsp;value;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;DemoImageMap(IWorkpageDispatcher&nbsp;dispatcher)<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;super(dispatcher);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;initRefComponent(&#34;imagemap&#34;);<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;onMapAreaAction(ActionEvent&nbsp;event)&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(event&nbsp;instanceof&nbsp;BaseActionEventImageMapAreaSelected)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BaseActionEventImageMapAreaSelected&nbsp;e&nbsp;=&nbsp;(BaseActionEventImageMapAreaSelected)event;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Statusbar.outputSuccess(&#34;Area&nbsp;was&nbsp;selected,&nbsp;area&#39;s&nbsp;Id:&nbsp;&#34;&nbsp;+&nbsp;e.getMapAreaId()&nbsp;+&nbsp;&#34;,&nbsp;click&nbsp;count:&nbsp;&#34;&nbsp;+&nbsp;e.getClickCount());<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m_selectedId&nbsp;=&nbsp;e.getMapAreaId();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>}<br></p>
</body>
</html>
