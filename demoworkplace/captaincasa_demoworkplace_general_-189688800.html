<html>
<head>
<style>
.java {font-family: monospace;background-color: #F0F0F0;}
.xml {font-family: monospace;background-color: #F0F0F0;}
</style>
</head>
<body>
<p>The context of this demo is the creation of a dialog using the CaptainCasa framework for the following purpose: <ul><li>General</li><li>Client Integration</li><li>Client System Properties (Java Client only)</li></ul></p>
<p>The component SYSTEMPROPERTYREADER reads all system properties that are available on client side and sends these properties to the server. On server side they are transferred into the corresponding bean property that is bound via the attribute SYSTEMPROPERTYVALUE. The property value is sent exactly one time by the component.<br><br>The system property values are passed as semicolon separated String: &lt;name&gt;;&lt;value&gt;;&lt;name&gt;;&lt;value;... - for decoding you should use the ValueManager.decodeCSV() function on server side.<br><br>In addition to the &#34;normal&#34; system properties, the following information is sent as well:<br><br>(.) Names of locally available printers, the corresponding names are &#34;cc.localprinter.0&#34;, &#34;cc.localprinter.1&#34; etc.<br>(.) The client parameters that were used for starting the client. Each client parameter is prefixed with &#34;cc.clientparameter.&#34;</p>
<p>This is the XML layout definition:</p>
<p class="xml">&lt;?xml&nbsp;version=&#34;1.0&#34;&nbsp;encoding=&#34;utf-8&#34;?&gt;<br>&lt;t:layoutdefinition&nbsp;xmlns:t=&#34;http://www.CaptainCasa.com/controllibrary/t&#34;&nbsp;xmlns:tpbc=&#34;http://www.CaptainCasa.com/controllibrary/tpbc&#34;&nbsp;&gt;<br>&lt;t:beanprocessing&nbsp;id=&#34;g_1&#34;&nbsp;&gt;<br>&lt;t:systempropertyreader&nbsp;id=&#34;g_2&#34;&nbsp;systempropertyvalue=&#34;#{d.DemoSystemPropertyReader.sysProps}&#34;&nbsp;/&gt;<br>&lt;/t:beanprocessing&gt;<br>&lt;t:rowdemobodypane&nbsp;id=&#34;g_3&#34;&nbsp;objectbinding=&#34;#{d.DemoSystemPropertyReader}&#34;&nbsp;rowdistance=&#34;#{ccstylevalue[&#39;@defaultrowdistance@&#39;]}&#34;&nbsp;&gt;<br>&lt;t:row&nbsp;id=&#34;g_4&#34;&nbsp;&gt;<br>&lt;t:button&nbsp;id=&#34;g_5&#34;&nbsp;actionListener=&#34;#{d.DemoSystemPropertyReader.onSynchronize}&#34;&nbsp;text=&#34;Synchronize&#34;&nbsp;/&gt;<br>&lt;/t:row&gt;<br>&lt;t:rowdistance&nbsp;id=&#34;g_6&#34;&nbsp;height=&#34;10&#34;&nbsp;/&gt;<br>&lt;t:row&nbsp;id=&#34;g_7&#34;&nbsp;&gt;<br>&lt;t:label&nbsp;id=&#34;g_8&#34;&nbsp;text=&#34;&amp;#34;Raw&amp;#34;&nbsp;text&#34;&nbsp;/&gt;<br>&lt;/t:row&gt;<br>&lt;t:row&nbsp;id=&#34;g_9&#34;&nbsp;&gt;<br>&lt;t:textarea&nbsp;id=&#34;g_10&#34;&nbsp;enabled=&#34;false&#34;&nbsp;height=&#34;100%&#34;&nbsp;text=&#34;#{d.DemoSystemPropertyReader.sysProps}&#34;&nbsp;width=&#34;100%&#34;&nbsp;/&gt;<br>&lt;/t:row&gt;<br>&lt;t:row&nbsp;id=&#34;g_11&#34;&nbsp;&gt;<br>&lt;t:label&nbsp;id=&#34;g_12&#34;&nbsp;text=&#34;&amp;#34;Formatted&amp;#34;&nbsp;text&#34;&nbsp;/&gt;<br>&lt;/t:row&gt;<br>&lt;t:row&nbsp;id=&#34;g_13&#34;&nbsp;&gt;<br>&lt;t:textarea&nbsp;id=&#34;g_14&#34;&nbsp;enabled=&#34;false&#34;&nbsp;height=&#34;100%&#34;&nbsp;text=&#34;#{d.DemoSystemPropertyReader.formattedSysProps}&#34;&nbsp;width=&#34;100%&#34;&nbsp;/&gt;<br>&lt;/t:row&gt;<br>&lt;/t:rowdemobodypane&gt;<br>&lt;t:pageaddons&nbsp;id=&#34;g_pa&#34;/&gt;<br>&lt;/t:layoutdefinition&gt;</p>
<p>This is the Java code:</p>
<p class="java">package&nbsp;workplace;<br><br>import&nbsp;java.io.Serializable;<br>import&nbsp;java.util.List;<br><br>import&nbsp;org.eclnt.editor.annotations.CCGenClass;<br>import&nbsp;org.eclnt.util.valuemgmt.ValueManager;<br>import&nbsp;org.eclnt.workplace.IWorkpageDispatcher;<br>import&nbsp;org.eclnt.workplace.WorkpageDispatchedBean;<br><br>import&nbsp;javax.faces.event.ActionEvent;<br><br>@CCGenClass&nbsp;(expressionBase=&#34;#{d.DemoSystemPropertyReader}&#34;)<br><br>public&nbsp;class&nbsp;DemoSystemPropertyReader<br>&nbsp;&nbsp;&nbsp;&nbsp;extends&nbsp;PageBean&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;implements&nbsp;Serializable<br>{<br>&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;m_formattedSysProps;<br>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;String&nbsp;getFormattedSysProps()&nbsp;{&nbsp;return&nbsp;m_formattedSysProps;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;setFormattedSysProps(String&nbsp;value)&nbsp;{&nbsp;this.m_formattedSysProps&nbsp;=&nbsp;value;&nbsp;}<br><br><br>&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;m_sysProps;<br>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;String&nbsp;getSysProps()&nbsp;{&nbsp;return&nbsp;m_sysProps;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;setSysProps(String&nbsp;value)&nbsp;{&nbsp;this.m_sysProps&nbsp;=&nbsp;value;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;DemoSystemPropertyReader(IWorkpageDispatcher&nbsp;workpageDispatcher)<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;super(workpageDispatcher);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;onSynchronize(ActionEvent&nbsp;event)&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(m_sysProps&nbsp;!=&nbsp;null)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;StringBuffer&nbsp;sb&nbsp;=&nbsp;new&nbsp;StringBuffer();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String[]&nbsp;ls&nbsp;=&nbsp;ValueManager.decodeCSV(m_sysProps);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(int&nbsp;i=0;&nbsp;i&lt;ls.length;&nbsp;i+=2)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb.append(ls[i]&nbsp;+&nbsp;&#34;:&#92;n&#34;&nbsp;+&nbsp;ls[i+1]&nbsp;+&nbsp;&#34;&#92;n&#92;n&#34;);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m_formattedSysProps&nbsp;=&nbsp;sb.toString();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>}<br></p>
</body>
</html>
