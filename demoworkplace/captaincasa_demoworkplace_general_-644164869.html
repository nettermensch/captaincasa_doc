<html>
<head>
<style>
.java {font-family: monospace;background-color: #F0F0F0;}
.xml {font-family: monospace;background-color: #F0F0F0;}
</style>
</head>
<body>
<p>The context of this demo is the creation of a dialog using the CaptainCasa framework for the following purpose: <ul><li>General</li><li>General Issues</li><li>Server Roundtrips</li></ul></p>
<p>Flushing... - this is the selection of the point of time when changes on the client side are communicated to the server processing.<br><br>User input controls (fields, checkbox, radio button, multi line fields) do not flush data to the client when being changed. The data is kept on client side and waits for the next flush, coming from another component. Typical example: a long list of fields with a button - the user inputs the fields and explicitly presses a button when finished.<br><br>But you can override this behaviour. The FLUSH attribute of a component needs to be set to &#34;true&#34;. In this case check boxes, radio buttons (&#34;clickable&#34; components) directly cause a server flushing when being changed. Fields also flush, but they wait for the user leaving the field (focusLost event).<br><br>With field components there is a special attribute: FLUSHTIMER. With this attribute you can define a duration in milliseconds. When the user changes the content of a field and stays waiting in the field, then after this duration a flush to the server is done.<br><br>On server side the flush is passed into a corresponding action listener of the component. The event object is of type BaseActionEventFlush.</p>
<p>This is the XML layout definition:</p>
<p class="xml">&lt;?xml&nbsp;version=&#34;1.0&#34;&nbsp;encoding=&#34;utf-8&#34;?&gt;<br>&lt;t:layoutdefinition&nbsp;xmlns:t=&#34;http://www.CaptainCasa.com/controllibrary/t&#34;&nbsp;xmlns:tpbc=&#34;http://www.CaptainCasa.com/controllibrary/tpbc&#34;&nbsp;&gt;<br>&lt;t:rowdemobodypane&nbsp;id=&#34;g_1&#34;&nbsp;objectbinding=&#34;#{d.demoFlush}&#34;&nbsp;rowdistance=&#34;#{ccstylevalue[&amp;#39;@defaultrowdistance@&amp;#39;]}&#34;&nbsp;&gt;<br>&lt;t:row&nbsp;id=&#34;g_2&#34;&nbsp;&gt;<br>&lt;t:label&nbsp;id=&#34;g_3&#34;&nbsp;text=&#34;No&nbsp;flush&nbsp;(default)&#34;&nbsp;width=&#34;150&#34;&nbsp;/&gt;<br>&lt;t:field&nbsp;id=&#34;g_4&#34;&nbsp;actionListener=&#34;#{d.demoFlush.onSearchNameAction}&#34;&nbsp;clientname=&#34;noflush&#34;&nbsp;text=&#34;#{d.demoFlush.searchName}&#34;&nbsp;width=&#34;100%&#34;&nbsp;/&gt;<br>&lt;t:coldistance&nbsp;id=&#34;g_5&#34;&nbsp;width=&#34;5&#34;&nbsp;/&gt;<br>&lt;t:button&nbsp;id=&#34;g_6&#34;&nbsp;text=&#34;Synch!&#34;&nbsp;/&gt;<br>&lt;/t:row&gt;<br>&lt;t:row&nbsp;id=&#34;g_7&#34;&nbsp;&gt;<br>&lt;t:label&nbsp;id=&#34;g_8&#34;&nbsp;text=&#34;Flush&nbsp;when&nbsp;leaving&nbsp;field&#34;&nbsp;width=&#34;150&#34;&nbsp;/&gt;<br>&lt;t:field&nbsp;id=&#34;g_9&#34;&nbsp;actionListener=&#34;#{d.demoFlush.onSearchNameAction}&#34;&nbsp;clientname=&#34;flush&#34;&nbsp;flush=&#34;true&#34;&nbsp;text=&#34;#{d.demoFlush.searchName}&#34;&nbsp;width=&#34;200&#34;&nbsp;/&gt;<br>&lt;/t:row&gt;<br>&lt;t:row&nbsp;id=&#34;g_10&#34;&nbsp;&gt;<br>&lt;t:label&nbsp;id=&#34;g_11&#34;&nbsp;text=&#34;Autoflush&nbsp;after&nbsp;1000&nbsp;ms&#34;&nbsp;width=&#34;150&#34;&nbsp;/&gt;<br>&lt;t:field&nbsp;id=&#34;g_12&#34;&nbsp;actionListener=&#34;#{d.demoFlush.onSearchNameAction}&#34;&nbsp;clientname=&#34;flushtimer&#34;&nbsp;flush=&#34;true&#34;&nbsp;flushtimer=&#34;1000&#34;&nbsp;text=&#34;#{d.demoFlush.searchName}&#34;&nbsp;width=&#34;200&#34;&nbsp;/&gt;<br>&lt;/t:row&gt;<br>&lt;/t:rowdemobodypane&gt;<br>&lt;t:pageaddons&nbsp;id=&#34;g_pa&#34;/&gt;<br>&lt;/t:layoutdefinition&gt;</p>
<p>This is the Java code:</p>
<p class="java">package&nbsp;workplace;<br><br>import&nbsp;java.util.Date;<br><br>import&nbsp;javax.faces.event.ActionEvent;<br><br>import&nbsp;org.eclnt.jsfserver.defaultscreens.Statusbar;<br>import&nbsp;org.eclnt.workplace.IWorkpageDispatcher;<br><br>public&nbsp;class&nbsp;DemoFlush&nbsp;extends&nbsp;PageBean<br>{<br>&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;m_searchName;<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;DemoFlush(IWorkpageDispatcher&nbsp;dispatcher)<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;super(dispatcher);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;initRefComponent(&#34;field&#34;);&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;setSearchName(String&nbsp;value)&nbsp;{&nbsp;m_searchName&nbsp;=&nbsp;value;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;String&nbsp;getSearchName()&nbsp;{&nbsp;return&nbsp;m_searchName;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;onSearchNameAction(ActionEvent&nbsp;ae)<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Statusbar.outputSuccess(&#34;Flush&nbsp;on&nbsp;searchName:&nbsp;content&nbsp;now&nbsp;is&nbsp;&#34;&nbsp;+&nbsp;m_searchName);<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>}<br></p>
</body>
</html>
