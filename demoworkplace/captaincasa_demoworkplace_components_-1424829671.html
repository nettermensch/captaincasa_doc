<html>
<head>
<style>
.java {font-family: monospace;background-color: #F0F0F0;}
.xml {font-family: monospace;background-color: #F0F0F0;}
</style>
</head>
<body>
<p>The context of this demo is the creation of a dialog using the CaptainCasa framework for the following purpose: <ul><li>Components</li><li>Straight Controls</li><li>Text Input/Output</li><li>Simple text editor</li></ul></p>
<p>Edit the text in one of the editor instances of the demo. When tabbing out of the instance the value is populated to the other ones.<br><br>The component TEXTEDITOR is a simple editor that is internally based on an edit-able DIV element.<br><br>For this reason it overcomes some of the weaknesses of the TEXTAREA component:<br><br>(.) You can embed HTML elements into the text of the editor (e.g. images or span-elements) and use this editor to edit &#34;text around&#34;.<br>(.) The sizing of the editor is more flexible - you may define the editor to have a flexible height so that it adapts its size to the contained text.<br><br>Please pay attention: by default the HTML text that is editred is sanitized by quite strong rule on client side in order to prevent client side JavaScript injection. This injection e.g. avoids images to be part of the HTML. - You may avoide this sanitizing by setting attribute AVOIDSANITIZING to &#34;false&#34;. But, of course: in this case you are responsible on your own for checking the text for client side injection!</p>
<p>This is the XML layout definition:</p>
<p class="xml">&lt;?xml&nbsp;version=&#34;1.0&#34;&nbsp;encoding=&#34;utf-8&#34;?&gt;<br>&lt;t:layoutdefinition&nbsp;xmlns:t=&#34;http://www.CaptainCasa.com/controllibrary/t&#34;&nbsp;&gt;<br>&lt;t:beanprocessing&nbsp;id=&#34;g_1&#34;&nbsp;beanbinding=&#34;#{d.DemoSimpleTextEditor}&#34;&nbsp;/&gt;<br>&lt;t:rowdemobodypane&nbsp;id=&#34;g_4&#34;&nbsp;objectbinding=&#34;#{d.DemoSimpleTextEditor}&#34;&nbsp;rowdistance=&#34;20&#34;&nbsp;&gt;<br>&lt;t:row&nbsp;id=&#34;g_7&#34;&nbsp;&gt;<br>&lt;t:foldablepane&nbsp;id=&#34;g_5&#34;&nbsp;rowdistance=&#34;#{ccstylevalue[&amp;#39;@defaultrowdistance@&amp;#39;]}&#34;&nbsp;text=&#34;Fix&nbsp;size,&nbsp;with&nbsp;scrolling&#34;&nbsp;width=&#34;100%&#34;&nbsp;&gt;<br>&lt;t:row&nbsp;id=&#34;g_6&#34;&nbsp;coldistance=&#34;20&#34;&nbsp;&gt;<br>&lt;t:texteditor&nbsp;id=&#34;g_9&#34;&nbsp;avoidsanitizing=&#34;true&#34;&nbsp;flush=&#34;true&#34;&nbsp;height=&#34;80&#34;&nbsp;labeltext=&#34;Some&nbsp;text&#34;&nbsp;selectallwhenfocussed=&#34;false&#34;&nbsp;text=&#34;#{d.DemoSimpleTextEditor.editorText}&#34;&nbsp;width=&#34;300&#34;&nbsp;withspellcheck=&#34;false&#34;&nbsp;/&gt;<br>&lt;t:texteditor&nbsp;id=&#34;g_12&#34;&nbsp;avoidsanitizing=&#34;true&#34;&nbsp;flush=&#34;true&#34;&nbsp;height=&#34;80&#34;&nbsp;labeltext=&#34;Some&nbsp;text&#34;&nbsp;selectallwhenfocussed=&#34;false&#34;&nbsp;text=&#34;#{d.DemoSimpleTextEditor.editorText}&#34;&nbsp;width=&#34;100%&#34;&nbsp;withspellcheck=&#34;false&#34;&nbsp;/&gt;<br>&lt;/t:row&gt;<br>&lt;/t:foldablepane&gt;<br>&lt;/t:row&gt;<br>&lt;t:row&nbsp;id=&#34;g_14&#34;&nbsp;&gt;<br>&lt;t:foldablepane&nbsp;id=&#34;g_15&#34;&nbsp;rowdistance=&#34;#{ccstylevalue[&amp;#39;@defaultrowdistance@&amp;#39;]}&#34;&nbsp;text=&#34;Variable&nbsp;height,&nbsp;no&nbsp;scrolling&#34;&nbsp;width=&#34;100%&#34;&nbsp;&gt;<br>&lt;t:row&nbsp;id=&#34;g_8&#34;&nbsp;&gt;<br>&lt;t:splitpane&nbsp;id=&#34;g_19&#34;&nbsp;width=&#34;100%&#34;&nbsp;&gt;<br>&lt;t:splitpanesplit&nbsp;id=&#34;g_10&#34;&nbsp;&gt;<br>&lt;t:row&nbsp;id=&#34;g_23&#34;&nbsp;coldistance=&#34;20&#34;&nbsp;&gt;<br>&lt;t:texteditor&nbsp;id=&#34;g_24&#34;&nbsp;avoidsanitizing=&#34;true&#34;&nbsp;flush=&#34;true&#34;&nbsp;labeltext=&#34;Some&nbsp;text&#34;&nbsp;rowalignmenty=&#34;top&#34;&nbsp;selectallwhenfocussed=&#34;false&#34;&nbsp;text=&#34;#{d.DemoSimpleTextEditor.editorText}&#34;&nbsp;width=&#34;100%&#34;&nbsp;withspellcheck=&#34;false&#34;&nbsp;/&gt;<br>&lt;/t:row&gt;<br>&lt;/t:splitpanesplit&gt;<br>&lt;t:splitpanesplit&nbsp;id=&#34;g_11&#34;&nbsp;&gt;<br>&lt;t:row&nbsp;id=&#34;g_20&#34;&nbsp;coldistance=&#34;20&#34;&nbsp;&gt;<br>&lt;t:texteditor&nbsp;id=&#34;g_21&#34;&nbsp;avoidsanitizing=&#34;true&#34;&nbsp;flush=&#34;true&#34;&nbsp;labeltext=&#34;Some&nbsp;text&#34;&nbsp;rowalignmenty=&#34;top&#34;&nbsp;selectallwhenfocussed=&#34;false&#34;&nbsp;text=&#34;#{d.DemoSimpleTextEditor.editorText}&#34;&nbsp;width=&#34;100%&#34;&nbsp;withspellcheck=&#34;false&#34;&nbsp;/&gt;<br>&lt;/t:row&gt;<br>&lt;/t:splitpanesplit&gt;<br>&lt;/t:splitpane&gt;<br>&lt;/t:row&gt;<br>&lt;t:rowdistance&nbsp;id=&#34;g_28&#34;&nbsp;height=&#34;10&#34;&nbsp;/&gt;<br>&lt;t:row&nbsp;id=&#34;g_26&#34;&nbsp;&gt;<br>&lt;t:textpane&nbsp;id=&#34;g_13&#34;&nbsp;stylevariant=&#34;ccsmall&#34;&nbsp;text=&#34;Change&nbsp;the&nbsp;size&nbsp;of&nbsp;the&nbsp;left/right&nbsp;area&nbsp;of&nbsp;the&nbsp;split&nbsp;pane&nbsp;-&nbsp;and&nbsp;see&nbsp;how&nbsp;the&nbsp;editor&nbsp;adapts&nbsp;its&nbsp;size&nbsp;according&nbsp;to&nbsp;the&nbsp;content.&#34;&nbsp;width=&#34;100%&#34;&nbsp;/&gt;<br>&lt;/t:row&gt;<br>&lt;/t:foldablepane&gt;<br>&lt;/t:row&gt;<br>&lt;/t:rowdemobodypane&gt;<br>&lt;/t:layoutdefinition&gt;</p>
<p>This is the Java code:</p>
<p class="java">package&nbsp;workplace;<br><br>import&nbsp;java.io.Serializable;<br><br>import&nbsp;org.eclnt.editor.annotations.CCGenClass;<br>import&nbsp;org.eclnt.workplace.IWorkpageDispatcher;<br><br>@CCGenClass&nbsp;(expressionBase=&#34;#{d.DemoSimpleTextEditor}&#34;)<br><br>public&nbsp;class&nbsp;DemoSimpleTextEditor<br>&nbsp;&nbsp;&nbsp;&nbsp;extends&nbsp;PageBean&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;implements&nbsp;Serializable<br>{<br>&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;------------------------------------------------------------------------<br>&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;inner&nbsp;classes<br>&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;------------------------------------------------------------------------<br><br>&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;------------------------------------------------------------------------<br>&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;members<br>&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;------------------------------------------------------------------------<br><br>&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;m_editorText&nbsp;=&nbsp;&#34;Lorem&nbsp;ipsum&nbsp;dolor&nbsp;sit&nbsp;amet,&nbsp;consetetur&nbsp;sadipscing&nbsp;elitr,&nbsp;sed&nbsp;diam&nbsp;nonumy&nbsp;eirmod&nbsp;&#34;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;&#34;tempor&nbsp;invidunt&nbsp;ut&nbsp;labore&nbsp;&lt;img&nbsp;src=&#92;&#34;images/icons/car.png&#92;&#34;&gt;&nbsp;et&nbsp;dolore&nbsp;magna&nbsp;aliquyam&nbsp;erat,&nbsp;sed&nbsp;diam&nbsp;voluptua.&nbsp;&#34;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;&#34;At&nbsp;vero&nbsp;eos&nbsp;et&nbsp;accusam&nbsp;et&nbsp;justo&nbsp;&lt;span&nbsp;contenteditable=&#92;&#34;false&#92;&#34;&gt;&lt;b&gt;duo&nbsp;dolores&lt;/b&gt;&lt;/span&gt;&nbsp;et&nbsp;ea&nbsp;rebum.&nbsp;Stet&nbsp;clita&nbsp;kasd&nbsp;gubergren,&nbsp;&#34;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;&#34;no&nbsp;sea&nbsp;takimata&nbsp;sanctus&nbsp;est&nbsp;Lorem&nbsp;ipsum&nbsp;dolor&nbsp;sit&nbsp;amet.&#34;;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;------------------------------------------------------------------------<br>&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;constructors&nbsp;&amp;&nbsp;initialization<br>&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;------------------------------------------------------------------------<br><br>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;DemoSimpleTextEditor(IWorkpageDispatcher&nbsp;workpageDispatcher)<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;super(workpageDispatcher);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;String&nbsp;getPageName()&nbsp;{&nbsp;return&nbsp;&#34;/workplace/demosimpletexteditor.xml&#34;;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;String&nbsp;getRootExpressionUsedInPage()&nbsp;{&nbsp;return&nbsp;&#34;#{d.DemoSimpleTextEditor}&#34;;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;------------------------------------------------------------------------<br>&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;public&nbsp;usage<br>&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;------------------------------------------------------------------------<br><br>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;String&nbsp;getEditorText()&nbsp;{&nbsp;return&nbsp;m_editorText;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;setEditorText(String&nbsp;value)&nbsp;{&nbsp;this.m_editorText&nbsp;=&nbsp;value;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;------------------------------------------------------------------------<br>&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;private&nbsp;usage<br>&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;------------------------------------------------------------------------<br>}<br></p>
</body>
</html>
