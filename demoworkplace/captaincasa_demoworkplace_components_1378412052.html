<p>The context of this demo is the creation of a dialog using the CaptainCasa framework for the following purpose: <ul><li>Components</li><li>Straight Controls</li><li>Field Control</li><li>Server Roundtrips</li><li>Non blocking flush round trips</li></ul></p>
<p>For both fields (user name and password) the attribute ACTIONEVENTSNOBLOCKING is set to &#34;flush&#34;.<br><br>This means you may enter a text which is flushed to the server - just as normal. But: the user interface is NOT blocked by this activity, the user can still continue to edit the field(s). So the communication roundtrip is done in some asynchronous way &#34;behind the scenes&#34;.<br><br>When pressing the logon button, then the corresponding invoke-request is synchronously processed just as normal - so you can be sure that all data is correctly processed at server side.<br><br>When using the ACTIONEVENTSNOBLOCKING then your server side application has to deal with the obvious side effects. Example: the logon-button may be pressed ny the user though the button logically should not enabled! The button may be enabled because if the user interface still having shown the button as enabled becaus the round trip to the server side logic was still on its way.</p>
<p>This is the XML layout definition:</p>
<p class="xml">&lt;?xml&nbsp;version=&#34;1.0&#34;&nbsp;encoding=&#34;utf-8&#34;?&gt;<br>&lt;t:layoutdefinition&nbsp;xmlns:t=&#34;http://www.CaptainCasa.com/controllibrary/t&#34;&nbsp;xmlns:tpbc=&#34;http://www.CaptainCasa.com/controllibrary/tpbc&#34;&nbsp;&gt;<br>&lt;t:rowdemobodypane&nbsp;id=&#34;g_1&#34;&nbsp;objectbinding=&#34;#{d.DemoFlushWithoutBlocking}&#34;&nbsp;rowdistance=&#34;#{ccstylevalue[&#39;@defaultrowdistance@&#39;]}&#34;&nbsp;&gt;<br>&lt;t:row&nbsp;id=&#34;g_2&#34;&nbsp;&gt;<br>&lt;t:label&nbsp;id=&#34;g_3&#34;&nbsp;text=&#34;User&nbsp;name&#34;&nbsp;width=&#34;100&#34;&nbsp;/&gt;<br>&lt;t:field&nbsp;id=&#34;g_4&#34;&nbsp;actionListener=&#34;#{d.DemoFlushWithoutBlocking.onVerifyInputAction}&#34;&nbsp;actioneventsnoblocking=&#34;flush&#34;&nbsp;bgpaint=&#34;#{d.DemoFlushWithoutBlocking.nameStatus}&#34;&nbsp;flush=&#34;true&#34;&nbsp;flushtimer=&#34;1000&#34;&nbsp;text=&#34;#{d.DemoFlushWithoutBlocking.name}&#34;&nbsp;width=&#34;100%;100&#34;&nbsp;/&gt;<br>&lt;/t:row&gt;<br>&lt;t:row&nbsp;id=&#34;g_5&#34;&nbsp;&gt;<br>&lt;t:label&nbsp;id=&#34;g_6&#34;&nbsp;text=&#34;Password&#34;&nbsp;width=&#34;100&#34;&nbsp;/&gt;<br>&lt;t:field&nbsp;id=&#34;g_7&#34;&nbsp;actionListener=&#34;#{d.DemoFlushWithoutBlocking.onVerifyInputAction}&#34;&nbsp;actioneventsnoblocking=&#34;flush&#34;&nbsp;bgpaint=&#34;#{d.DemoFlushWithoutBlocking.passwordStatus}&#34;&nbsp;flush=&#34;true&#34;&nbsp;flushtimer=&#34;1000&#34;&nbsp;text=&#34;#{d.DemoFlushWithoutBlocking.password}&#34;&nbsp;width=&#34;100%;100&#34;&nbsp;/&gt;<br>&lt;/t:row&gt;<br>&lt;t:row&nbsp;id=&#34;g_8&#34;&nbsp;&gt;<br>&lt;t:coldistance&nbsp;id=&#34;g_9&#34;&nbsp;width=&#34;100&#34;&nbsp;/&gt;<br>&lt;t:textpane&nbsp;id=&#34;g_10&#34;&nbsp;text=&#34;Both&nbsp;user&nbsp;name&nbsp;and&nbsp;password&nbsp;must&nbsp;have&nbsp;at&nbsp;least&nbsp;8&nbsp;characters!&nbsp;-&nbsp;This&nbsp;is&nbsp;checked&nbsp;by&nbsp;the&nbsp;server&nbsp;side&nbsp;in&nbsp;this&nbsp;example...&#34;&nbsp;width=&#34;100%&#34;&nbsp;/&gt;<br>&lt;/t:row&gt;<br>&lt;t:rowdistance&nbsp;id=&#34;g_11&#34;&nbsp;height=&#34;50&#34;&nbsp;/&gt;<br>&lt;t:row&nbsp;id=&#34;g_12&#34;&nbsp;&gt;<br>&lt;t:coldistance&nbsp;id=&#34;g_13&#34;&nbsp;width=&#34;100&#34;&nbsp;/&gt;<br>&lt;t:button&nbsp;id=&#34;g_14&#34;&nbsp;actionListener=&#34;#{d.DemoFlushWithoutBlocking.onLogonAction}&#34;&nbsp;enabled=&#34;#{d.DemoFlushWithoutBlocking.enabledLogon}&#34;&nbsp;text=&#34;Logon&#34;&nbsp;/&gt;<br>&lt;/t:row&gt;<br>&lt;/t:rowdemobodypane&gt;<br>&lt;t:rowstatusbar&nbsp;id=&#34;g_15&#34;&nbsp;/&gt;<br>&lt;t:pageaddons&nbsp;id=&#34;g_pa&#34;/&gt;<br>&lt;/t:layoutdefinition&gt;</p>
<p>This is the Java code:</p>
<p class="java">package&nbsp;workplace;<br><br>import&nbsp;java.io.Serializable;<br>import&nbsp;org.eclnt.editor.annotations.CCGenClass;<br>import&nbsp;org.eclnt.jsfserver.defaultscreens.Statusbar;<br>import&nbsp;org.eclnt.workplace.IWorkpageDispatcher;<br>import&nbsp;org.eclnt.workplace.WorkpageDispatchedPageBean;<br><br>import&nbsp;javax.faces.event.ActionEvent;<br><br>@CCGenClass&nbsp;(expressionBase=&#34;#{d.DemoFlushWithoutBlocking}&#34;)<br><br>public&nbsp;class&nbsp;DemoFlushWithoutBlocking<br>&nbsp;&nbsp;&nbsp;&nbsp;extends&nbsp;PageBean&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;implements&nbsp;Serializable<br>{<br><br>&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;m_result&nbsp;=&nbsp;&#34;Not&nbsp;yet&nbsp;set.&#34;;<br>&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;m_name&nbsp;=&nbsp;&#34;CaptainCasa&#34;;<br>&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;m_nameStatus;<br>&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;m_password;<br>&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;m_passwordStatus;<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;DemoFlushWithoutBlocking(IWorkpageDispatcher&nbsp;workpageDispatcher)<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;super(workpageDispatcher);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;String&nbsp;getPageName()&nbsp;{&nbsp;return&nbsp;&#34;/workplace/demoflushwithoutblocking.jsp&#34;;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;String&nbsp;getRootExpressionUsedInPage()&nbsp;{&nbsp;return&nbsp;&#34;#{d.DemoFlushWithoutBlocking}&#34;;&nbsp;}<br><br><br>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;String&nbsp;getPassword()&nbsp;{&nbsp;return&nbsp;m_password;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;setPassword(String&nbsp;value)&nbsp;{&nbsp;this.m_password&nbsp;=&nbsp;value;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;String&nbsp;getName()&nbsp;{&nbsp;return&nbsp;m_name;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;setName(String&nbsp;value)&nbsp;{&nbsp;this.m_name&nbsp;=&nbsp;value;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;String&nbsp;getNameStatus()&nbsp;{&nbsp;return&nbsp;m_nameStatus;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;String&nbsp;getPasswordStatus()&nbsp;{&nbsp;return&nbsp;m_passwordStatus;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;onVerifyInputAction(javax.faces.event.ActionEvent&nbsp;event)&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;verifyInput();<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;boolean&nbsp;getEnabledLogon()&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;verifyInput();<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;onLogonAction(javax.faces.event.ActionEvent&nbsp;event)&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;boolean&nbsp;succ&nbsp;=&nbsp;verifyInput();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(succ&nbsp;==&nbsp;false)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Statusbar.outputError(&#34;Problem&nbsp;when&nbsp;logging&nbsp;on.&#34;);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Statusbar.outputSuccess(&#34;You&nbsp;are&nbsp;logged&nbsp;on&#34;);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;catch&nbsp;(Throwable&nbsp;t)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;boolean&nbsp;verifyInput()<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m_nameStatus&nbsp;=&nbsp;null;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m_passwordStatus&nbsp;=&nbsp;null;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;boolean&nbsp;result&nbsp;=&nbsp;true;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(m_name&nbsp;==&nbsp;null&nbsp;||&nbsp;m_name.length()&nbsp;&lt;&nbsp;8)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m_nameStatus&nbsp;=&nbsp;&#34;error()&#34;;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result&nbsp;=&nbsp;false;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(m_password&nbsp;==&nbsp;null&nbsp;||&nbsp;m_password.length()&nbsp;&lt;&nbsp;8)&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m_passwordStatus&nbsp;=&nbsp;&#34;error()&#34;;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result&nbsp;=&nbsp;false;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;result;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>}<br></p>
