<html>
<head>
<style>
.java {font-family: monospace;background-color: #F0F0F0;}
.xml {font-family: monospace;background-color: #F0F0F0;}
</style>
</head>
<body>
<p>The context of this demo is the creation of a dialog using the CaptainCasa framework for the following purpose: <ul><li>Grids &amp; Trees</li><li>Grids and Trees</li><li>Special Issues</li><li>Client side scrolling</li></ul></p>
<p>By default grid components do not show all items that are available on server side. Background: scalability! - If there are hundreds of items on server side, then only these items are transferred to the client that are currently shown to the user.<br><br>You can override this behavior and load all items to the client side, as shown in this example. To do so, you need to...:<br><br>(.) ...define the grid dynamically (ROWDYNAMICCONTENT)<br>(.) ...set the SBVISIBLEAMOUNT attribute dynamically, by re-building the grid when the value changes<br>(.) ...set the attribute NOSCROLLMODE to true<br><br>And...: you should pay attention...! <br><br>(.) Do not use this way of using the grid when working with hundreds of items! The memory consumption on server side, rendering speed on client side (for building up the grid) and the data volume that is exchanged between server and client will increase.<br>(.) Some Grid Functions that normally operate on the grid line index (like &#34;ensureItemIsVisible&#34;) do not work anymore.<br>(.) The header area of the grid will be scrolled, and does not always stay on top. Same with footer. <br><br>Consequence: do only use this special usage type of the grid for very rare situations! It&#39;s a &#34;side-usage-area&#34; of the grid only!</p>
<p>This is the XML layout definition:</p>
<p class="xml">&lt;?xml&nbsp;version=&#34;1.0&#34;&nbsp;encoding=&#34;utf-8&#34;?&gt;<br>&lt;t:layoutdefinition&nbsp;xmlns:t=&#34;http://www.CaptainCasa.com/controllibrary/t&#34;&nbsp;xmlns:tpbc=&#34;http://www.CaptainCasa.com/controllibrary/tpbc&#34;&nbsp;&gt;<br>&lt;t:rowheader&nbsp;id=&#34;g_1&#34;&nbsp;&gt;<br>&lt;t:formattedfield&nbsp;id=&#34;g_2&#34;&nbsp;format=&#34;int&#34;&nbsp;value=&#34;#{d.DemoGridClientScrolling.numberOfItems}&#34;&nbsp;width=&#34;40&#34;&nbsp;/&gt;<br>&lt;t:coldistance&nbsp;id=&#34;g_3&#34;&nbsp;width=&#34;10&#34;&nbsp;/&gt;<br>&lt;t:button&nbsp;id=&#34;g_4&#34;&nbsp;actionListener=&#34;#{d.DemoGridClientScrolling.onSetNumberOfItems}&#34;&nbsp;text=&#34;Buidl&nbsp;Grid/Items&#34;&nbsp;/&gt;<br>&lt;t:coldistance&nbsp;id=&#34;g_5&#34;&nbsp;width=&#34;10&#34;&nbsp;/&gt;<br>&lt;t:colline&nbsp;id=&#34;g_6&#34;&nbsp;background=&#34;#00000030&#34;&nbsp;height=&#34;100%&#34;&nbsp;/&gt;<br>&lt;t:coldistance&nbsp;id=&#34;g_7&#34;&nbsp;width=&#34;10&#34;&nbsp;/&gt;<br>&lt;t:formattedfield&nbsp;id=&#34;g_8&#34;&nbsp;format=&#34;int&#34;&nbsp;value=&#34;#{d.DemoGridClientScrolling.lineIndex}&#34;&nbsp;width=&#34;40&#34;&nbsp;/&gt;<br>&lt;t:coldistance&nbsp;id=&#34;g_9&#34;&nbsp;width=&#34;10&#34;&nbsp;/&gt;<br>&lt;t:button&nbsp;id=&#34;g_10&#34;&nbsp;actionListener=&#34;#{d.DemoGridClientScrolling.onFocusLine}&#34;&nbsp;text=&#34;Show/Focus&nbsp;Line&#34;&nbsp;/&gt;<br>&lt;/t:rowheader&gt;<br>&lt;t:rowdemobodypane&nbsp;id=&#34;g_11&#34;&nbsp;objectbinding=&#34;#{d.DemoGridClientScrolling}&#34;&nbsp;&gt;<br>&lt;t:row&nbsp;id=&#34;g_12&#34;&nbsp;&gt;<br>&lt;t:scrollpane&nbsp;id=&#34;g_13&#34;&nbsp;background=&#34;#FFFFFF80&#34;&nbsp;border=&#34;#00000030&#34;&nbsp;height=&#34;100%&#34;&nbsp;width=&#34;100%&#34;&nbsp;&gt;<br>&lt;t:rowdynamiccontent&nbsp;id=&#34;g_14&#34;&nbsp;contentbinding=&#34;#{d.DemoGridClientScrolling.gridContent}&#34;&nbsp;/&gt;<br>&lt;/t:scrollpane&gt;<br>&lt;/t:row&gt;<br>&lt;/t:rowdemobodypane&gt;<br>&lt;t:pageaddons&nbsp;id=&#34;g_pa&#34;/&gt;<br>&lt;/t:layoutdefinition&gt;</p>
<p>This is the Java code:</p>
<p class="java">package&nbsp;workplace;<br><br>import&nbsp;java.io.Serializable;<br><br>import&nbsp;javax.faces.event.ActionEvent;<br><br>import&nbsp;org.eclnt.editor.annotations.CCGenClass;<br>import&nbsp;org.eclnt.jsfserver.defaultscreens.Statusbar;<br>import&nbsp;org.eclnt.jsfserver.elements.impl.FIXGRIDItem;<br>import&nbsp;org.eclnt.jsfserver.elements.impl.FIXGRIDListBinding;<br>import&nbsp;org.eclnt.jsfserver.elements.impl.ROWDYNAMICCONTENTBinding;<br>import&nbsp;org.eclnt.workplace.IWorkpageDispatcher;<br><br>@CCGenClass&nbsp;(expressionBase=&#34;#{d.DemoGridClientScrolling}&#34;)<br><br>public&nbsp;class&nbsp;DemoGridClientScrolling<br>&nbsp;&nbsp;&nbsp;&nbsp;extends&nbsp;PageBean<br>&nbsp;&nbsp;&nbsp;&nbsp;implements&nbsp;Serializable<br>{<br>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;class&nbsp;GridItem&nbsp;extends&nbsp;FIXGRIDItem&nbsp;implements&nbsp;java.io.Serializable<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;String&nbsp;m_lastName;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;String&nbsp;m_firstName;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;String&nbsp;getLastName()&nbsp;{&nbsp;return&nbsp;m_lastName;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;setLastName(String&nbsp;value)&nbsp;{&nbsp;m_lastName&nbsp;=&nbsp;value;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;String&nbsp;getFirstName()&nbsp;{&nbsp;return&nbsp;m_firstName;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;setFirstName(String&nbsp;value)&nbsp;{&nbsp;m_firstName&nbsp;=&nbsp;value;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;FIXGRIDListBinding&lt;GridItem&gt;&nbsp;m_grid&nbsp;=&nbsp;new&nbsp;FIXGRIDListBinding&lt;GridItem&gt;();<br>&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;int&nbsp;m_lineIndex&nbsp;=&nbsp;0;<br>&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;int&nbsp;m_numberOfItems&nbsp;=&nbsp;50;<br>&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;ROWDYNAMICCONTENTBinding&nbsp;m_gridContent&nbsp;=&nbsp;new&nbsp;ROWDYNAMICCONTENTBinding();<br>&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;String&nbsp;GRID_XML&nbsp;=<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#34;&lt;t:fixgrid&#34;+<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#34;&nbsp;&nbsp;&nbsp;&nbsp;noscrollmode=&#39;true&#39;&#34;+<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#34;&nbsp;&nbsp;&nbsp;&nbsp;objectbinding=&#39;#{d.DemoGridClientScrolling.grid}&#39;&#34;+<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#34;&nbsp;&nbsp;&nbsp;&nbsp;sbvisibleamount=&#39;@@SBVISIBLEAMOUNT@@&#39;&#34;+<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#34;&nbsp;&nbsp;&nbsp;&nbsp;verticalscrollmode=&#39;hidden&#39;&nbsp;width=&#39;100%&#39;&gt;&#34;+<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#34;&nbsp;&nbsp;&nbsp;&nbsp;&lt;t:gridcol&nbsp;text=&#39;First&nbsp;Name&#39;&nbsp;width=&#39;50%&#39;&gt;&#34;+<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#34;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;t:label&nbsp;text=&#39;.{firstName}&#39;&nbsp;/&gt;&#34;+<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#34;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/t:gridcol&gt;&#34;+<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#34;&nbsp;&nbsp;&nbsp;&nbsp;&lt;t:gridcol&nbsp;text=&#39;First&nbsp;Name&#39;&nbsp;width=&#39;50%&#39;&gt;&#34;+<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#34;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;t:label&nbsp;text=&#39;.{lastName}&#39;&nbsp;/&gt;&#34;+<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#34;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/t:gridcol&gt;&#34;+<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#34;&lt;/t:fixgrid&gt;&#34;;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;DemoGridClientScrolling(IWorkpageDispatcher&nbsp;dispatcher)<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;super(dispatcher);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;onSetNumberOfItems(null);<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;FIXGRIDListBinding&lt;GridItem&gt;&nbsp;getGrid()&nbsp;{&nbsp;return&nbsp;m_grid;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;int&nbsp;getLineIndex()&nbsp;{&nbsp;return&nbsp;m_lineIndex;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;setLineIndex(int&nbsp;value)&nbsp;{&nbsp;m_lineIndex&nbsp;=&nbsp;value;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;int&nbsp;getNumberOfItems()&nbsp;{&nbsp;return&nbsp;m_numberOfItems;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;setNumberOfItems(int&nbsp;value)&nbsp;{&nbsp;m_numberOfItems&nbsp;=&nbsp;value;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;ROWDYNAMICCONTENTBinding&nbsp;getGridContent()&nbsp;{&nbsp;return&nbsp;m_gridContent;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;onFocusLine(ActionEvent&nbsp;event)&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m_grid.deselectCurrentSelection();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(m_lineIndex&nbsp;&gt;=&nbsp;0&nbsp;&amp;&amp;&nbsp;m_lineIndex&nbsp;&lt;&nbsp;m_grid.getItems().size())<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m_grid.selectAndFocusItem(m_grid.getItems().get(m_lineIndex));<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Statusbar.outputAlert(&#34;Wrong&nbsp;index...!&#34;);<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;onSetNumberOfItems(ActionEvent&nbsp;event)&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(m_numberOfItems&nbsp;&lt;&nbsp;0)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Statusbar.outputAlert(&#34;Index&nbsp;should&nbsp;be&nbsp;&gt;&nbsp;0!&#34;);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m_grid.getItems().clear();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(int&nbsp;i=0;&nbsp;i&lt;m_numberOfItems;&nbsp;i++)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GridItem&nbsp;gi&nbsp;=&nbsp;new&nbsp;GridItem();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gi.setFirstName(&#34;FN&nbsp;&#34;+&nbsp;i);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gi.setLastName(&#34;LN&nbsp;&#34;&nbsp;+&nbsp;i);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m_grid.getItems().add(gi);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m_gridContent.setContentXml(GRID_XML.replace(&#34;@@SBVISIBLEAMOUNT@@&#34;,&#34;&#34;+m_numberOfItems));<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>}<br></p>
</body>
</html>
