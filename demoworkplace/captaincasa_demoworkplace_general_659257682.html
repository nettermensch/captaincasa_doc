<html>
<head>
<style>
.java {font-family: monospace;background-color: #F0F0F0;}
.xml {font-family: monospace;background-color: #F0F0F0;}
</style>
</head>
<body>
<p>The context of this demo is the creation of a dialog using the CaptainCasa framework for the following purpose: <ul><li>General</li><li>Server side JFreeChart</li><li>Bar/Line Chart</li></ul></p>
<p>In this demo charts are created on server side - using the JFreeChart library. The image of the chart is transferred to the client, but not as URL but as hex string of data.<br><br>The component that is used within the layout id the HEXIMAGE component, that is able to render an image out of an hexstring representation of data (e.g. &#34;af6e4453&#34;).<br><br>Have a look into the server side Java program: the image is created using the JFreeChart library, and then the image is transferred into a hex representation using the ValueManager class that comes with the server side library of Enterprise Client.</p>
<p>This is the XML layout definition:</p>
<p class="xml">&lt;?xml&nbsp;version=&#34;1.0&#34;&nbsp;encoding=&#34;utf-8&#34;?&gt;<br>&lt;t:layoutdefinition&nbsp;xmlns:t=&#34;http://www.CaptainCasa.com/controllibrary/t&#34;&nbsp;xmlns:tpbc=&#34;http://www.CaptainCasa.com/controllibrary/tpbc&#34;&nbsp;&gt;<br>&lt;t:rowdemobodypane&nbsp;id=&#34;g_1&#34;&nbsp;objectbinding=&#34;#{d.demoCharts2}&#34;&nbsp;&gt;<br>&lt;t:row&nbsp;id=&#34;g_2&#34;&nbsp;&gt;<br>&lt;t:fixgrid&nbsp;id=&#34;g_3&#34;&nbsp;bordercolor=&#34;#e0e0e0&#34;&nbsp;borderheight=&#34;1&#34;&nbsp;borderwidth=&#34;1&#34;&nbsp;objectbinding=&#34;#{d.demoCharts2.rows}&#34;&nbsp;rowheight=&#34;16&#34;&nbsp;sbvisibleamount=&#34;5&#34;&nbsp;width=&#34;100%&#34;&nbsp;&gt;<br>&lt;t:gridcol&nbsp;id=&#34;g_4&#34;&nbsp;text=&#34;Product&#34;&nbsp;width=&#34;100&#34;&nbsp;&gt;<br>&lt;t:field&nbsp;id=&#34;g_5&#34;&nbsp;text=&#34;.{product}&#34;&nbsp;/&gt;<br>&lt;/t:gridcol&gt;<br>&lt;t:gridcol&nbsp;id=&#34;g_6&#34;&nbsp;text=&#34;Revenue&nbsp;North&#34;&nbsp;width=&#34;50%&#34;&nbsp;&gt;<br>&lt;t:formattedfield&nbsp;id=&#34;g_7&#34;&nbsp;align=&#34;right&#34;&nbsp;format=&#34;double&#34;&nbsp;value=&#34;.{revenueNorth}&#34;&nbsp;/&gt;<br>&lt;/t:gridcol&gt;<br>&lt;t:gridcol&nbsp;id=&#34;g_8&#34;&nbsp;text=&#34;Revenue&nbsp;South&#34;&nbsp;width=&#34;50%&#34;&nbsp;&gt;<br>&lt;t:formattedfield&nbsp;id=&#34;g_9&#34;&nbsp;align=&#34;right&#34;&nbsp;format=&#34;double&#34;&nbsp;value=&#34;.{revenueSouth}&#34;&nbsp;/&gt;<br>&lt;/t:gridcol&gt;<br>&lt;/t:fixgrid&gt;<br>&lt;/t:row&gt;<br>&lt;t:rowdistance&nbsp;id=&#34;g_10&#34;&nbsp;/&gt;<br>&lt;t:row&nbsp;id=&#34;g_11&#34;&nbsp;&gt;<br>&lt;t:button&nbsp;id=&#34;g_12&#34;&nbsp;actionListener=&#34;#{d.demoCharts2.onCreateNewRow}&#34;&nbsp;contentareafilled=&#34;false&#34;&nbsp;text=&#34;Add&nbsp;new&nbsp;Row&#34;&nbsp;/&gt;<br>&lt;t:coldistance&nbsp;id=&#34;g_13&#34;&nbsp;width=&#34;100%&#34;&nbsp;/&gt;<br>&lt;t:button&nbsp;id=&#34;g_14&#34;&nbsp;actionListener=&#34;#{d.demoCharts2.onUpdateChart}&#34;&nbsp;contentareafilled=&#34;false&#34;&nbsp;font=&#34;weight:bold&#34;&nbsp;foreground=&#34;#800000&#34;&nbsp;text=&#34;Update&nbsp;Chart&#34;&nbsp;/&gt;<br>&lt;/t:row&gt;<br>&lt;t:rowdistance&nbsp;id=&#34;g_15&#34;&nbsp;height=&#34;20&#34;&nbsp;/&gt;<br>&lt;t:row&nbsp;id=&#34;g_16&#34;&nbsp;&gt;<br>&lt;t:pane&nbsp;id=&#34;g_17&#34;&nbsp;background=&#34;#FFFFFF&#34;&nbsp;bgpaint=&#34;rectangle(0,0,10,100%,#00000040,#00000000,horizontal);rectangle(100%-10,0,10,100%,#00000000,#00000040,horizontal);&#34;&nbsp;border=&#34;top:1;bottom:1;color:#00000020&#34;&nbsp;width=&#34;100%&#34;&nbsp;&gt;<br>&lt;t:rowdistance&nbsp;id=&#34;g_18&#34;&nbsp;height=&#34;5&#34;&nbsp;/&gt;<br>&lt;t:row&nbsp;id=&#34;g_19&#34;&nbsp;&gt;<br>&lt;t:coldistance&nbsp;id=&#34;g_20&#34;&nbsp;width=&#34;50%&#34;&nbsp;/&gt;<br>&lt;t:combobox&nbsp;id=&#34;g_21&#34;&nbsp;actionListener=&#34;#{d.demoCharts2.onUpdateChart}&#34;&nbsp;flush=&#34;true&#34;&nbsp;value=&#34;#{d.demoCharts2.chartType}&#34;&nbsp;width=&#34;100&#34;&nbsp;&gt;<br>&lt;t:comboboxitem&nbsp;id=&#34;g_22&#34;&nbsp;value=&#34;H.Bar&#34;&nbsp;/&gt;<br>&lt;t:comboboxitem&nbsp;id=&#34;g_23&#34;&nbsp;value=&#34;V.Bar&#34;&nbsp;/&gt;<br>&lt;t:comboboxitem&nbsp;id=&#34;g_24&#34;&nbsp;value=&#34;H.3DBar&#34;&nbsp;/&gt;<br>&lt;t:comboboxitem&nbsp;id=&#34;g_25&#34;&nbsp;value=&#34;V.3DBar&#34;&nbsp;/&gt;<br>&lt;t:comboboxitem&nbsp;id=&#34;g_26&#34;&nbsp;value=&#34;H.3DLine&#34;&nbsp;/&gt;<br>&lt;t:comboboxitem&nbsp;id=&#34;g_27&#34;&nbsp;value=&#34;V.3DLine&#34;&nbsp;/&gt;<br>&lt;t:comboboxitem&nbsp;id=&#34;g_28&#34;&nbsp;value=&#34;H.Area&#34;&nbsp;/&gt;<br>&lt;t:comboboxitem&nbsp;id=&#34;g_29&#34;&nbsp;value=&#34;V.Area&#34;&nbsp;/&gt;<br>&lt;/t:combobox&gt;<br>&lt;t:coldistance&nbsp;id=&#34;g_30&#34;&nbsp;width=&#34;50%&#34;&nbsp;/&gt;<br>&lt;/t:row&gt;<br>&lt;t:rowdistance&nbsp;id=&#34;g_31&#34;&nbsp;height=&#34;15&#34;&nbsp;/&gt;<br>&lt;t:row&nbsp;id=&#34;g_32&#34;&nbsp;&gt;<br>&lt;t:coldistance&nbsp;id=&#34;g_33&#34;&nbsp;width=&#34;50%&#34;&nbsp;/&gt;<br>&lt;t:heximage&nbsp;id=&#34;g_34&#34;&nbsp;hexdata=&#34;#{d.demoCharts2.image}&#34;&nbsp;/&gt;<br>&lt;t:coldistance&nbsp;id=&#34;g_35&#34;&nbsp;width=&#34;50%&#34;&nbsp;/&gt;<br>&lt;/t:row&gt;<br>&lt;t:rowdistance&nbsp;id=&#34;g_36&#34;&nbsp;height=&#34;5&#34;&nbsp;/&gt;<br>&lt;/t:pane&gt;<br>&lt;/t:row&gt;<br>&lt;/t:rowdemobodypane&gt;<br>&lt;t:pageaddons&nbsp;id=&#34;g_pa&#34;/&gt;<br>&lt;/t:layoutdefinition&gt;</p>
<p>This is the Java code:</p>
<p class="java">package&nbsp;workplace;<br><br>import&nbsp;java.io.ByteArrayOutputStream;<br><br>import&nbsp;javax.faces.event.ActionEvent;<br><br>import&nbsp;org.eclnt.jsfserver.elements.impl.FIXGRIDItem;<br>import&nbsp;org.eclnt.jsfserver.elements.impl.FIXGRIDListBinding;<br>import&nbsp;org.eclnt.util.log.CLog;<br>import&nbsp;org.eclnt.util.valuemgmt.ValueManager;<br>import&nbsp;org.eclnt.workplace.IWorkpageDispatcher;<br>import&nbsp;org.jfree.chart.ChartFactory;<br>import&nbsp;org.jfree.chart.ChartUtilities;<br>import&nbsp;org.jfree.chart.JFreeChart;<br>import&nbsp;org.jfree.chart.plot.PlotOrientation;<br>import&nbsp;org.jfree.data.category.DefaultCategoryDataset;<br>import&nbsp;org.jfree.data.general.DefaultPieDataset;<br><br>public&nbsp;class&nbsp;DemoCharts2&nbsp;extends&nbsp;PageBean<br>{<br>&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;------------------------------------------------------------------------<br>&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;inner&nbsp;classes<br>&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;------------------------------------------------------------------------&nbsp;&nbsp;&nbsp;&nbsp;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;class&nbsp;MyRow&nbsp;extends&nbsp;FIXGRIDItem<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;m_product;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;double&nbsp;m_revenueNorth;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;double&nbsp;m_revenueSouth;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;String&nbsp;getProduct()<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;m_product;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;setProduct(String&nbsp;product)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m_product&nbsp;=&nbsp;product;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;double&nbsp;getRevenueNorth()<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;m_revenueNorth;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;setRevenueNorth(double&nbsp;revenueNorth)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m_revenueNorth&nbsp;=&nbsp;revenueNorth;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;double&nbsp;getRevenueSouth()<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;m_revenueSouth;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;setRevenueSouth(double&nbsp;revenueSouth)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m_revenueSouth&nbsp;=&nbsp;revenueSouth;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;------------------------------------------------------------------------<br>&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;members<br>&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;------------------------------------------------------------------------<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;FIXGRIDListBinding&lt;MyRow&gt;&nbsp;m_rows&nbsp;=&nbsp;new&nbsp;FIXGRIDListBinding&lt;MyRow&gt;();<br>&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;m_image;<br>&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;m_chartType&nbsp;=&nbsp;&#34;H.Bar&#34;;<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;------------------------------------------------------------------------<br>&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;constructors<br>&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;------------------------------------------------------------------------<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;DemoCharts2(IWorkpageDispatcher&nbsp;dispatcher)<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;super(dispatcher);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MyRow&nbsp;row;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;row&nbsp;=&nbsp;new&nbsp;MyRow();&nbsp;row.setProduct(&#34;Hardware&#34;);&nbsp;row.setRevenueNorth(1000);&nbsp;row.setRevenueSouth(1200);&nbsp;m_rows.getItems().add(row);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;row&nbsp;=&nbsp;new&nbsp;MyRow();&nbsp;row.setProduct(&#34;Software&#34;);&nbsp;row.setRevenueNorth(800);&nbsp;row.setRevenueSouth(1000);&nbsp;m_rows.getItems().add(row);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;row&nbsp;=&nbsp;new&nbsp;MyRow();&nbsp;row.setProduct(&#34;Services&#34;);&nbsp;row.setRevenueNorth(1800);&nbsp;row.setRevenueSouth(2000);&nbsp;m_rows.getItems().add(row);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generateChart();<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;------------------------------------------------------------------------<br>&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;public&nbsp;usage<br>&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;------------------------------------------------------------------------<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;FIXGRIDListBinding&lt;MyRow&gt;&nbsp;getRows()&nbsp;{&nbsp;return&nbsp;m_rows;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;setImage(String&nbsp;value)&nbsp;{&nbsp;m_image&nbsp;=&nbsp;value;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;String&nbsp;getImage()&nbsp;{&nbsp;return&nbsp;m_image;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;setChartType(String&nbsp;value)&nbsp;{&nbsp;m_chartType&nbsp;=&nbsp;value;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;String&nbsp;getChartType()&nbsp;{&nbsp;return&nbsp;m_chartType;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;onUpdateChart(ActionEvent&nbsp;ae)<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generateChart();<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;onCreateNewRow(ActionEvent&nbsp;ae)<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MyRow&nbsp;row&nbsp;=&nbsp;new&nbsp;MyRow();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;row.setProduct(&#34;new&#34;);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m_rows.getItems().add(row);<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;------------------------------------------------------------------------<br>&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;private&nbsp;usage<br>&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;------------------------------------------------------------------------<br><br>&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;void&nbsp;generateChart()<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DefaultCategoryDataset&nbsp;ds&nbsp;=&nbsp;new&nbsp;DefaultCategoryDataset();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(int&nbsp;i=0;&nbsp;i&lt;m_rows.getItems().size();&nbsp;i++)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MyRow&nbsp;row&nbsp;=&nbsp;m_rows.getItems().get(i);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ds.setValue(row.getRevenueNorth(),&#34;North&#34;,row.getProduct());<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ds.setValue(row.getRevenueSouth(),&#34;South&#34;,row.getProduct());<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;JFreeChart&nbsp;chart&nbsp;=&nbsp;null;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(m_chartType.equals(&#34;H.Bar&#34;))<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;chart&nbsp;=&nbsp;ChartFactory.createBarChart(&#34;Sales&nbsp;by&nbsp;Product&nbsp;and&nbsp;Region&#34;,&#34;Region&#34;,&#34;Product&nbsp;Revenue&nbsp;(Mio&nbsp;EUR)&#34;,ds,PlotOrientation.HORIZONTAL,true,true,false);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;if&nbsp;(m_chartType.equals(&#34;V.Bar&#34;))<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;chart&nbsp;=&nbsp;ChartFactory.createBarChart(&#34;Sales&nbsp;by&nbsp;Product&nbsp;and&nbsp;Region&#34;,&#34;Region&#34;,&#34;Product&nbsp;Revenue&nbsp;(Mio&nbsp;EUR)&#34;,ds,PlotOrientation.VERTICAL,true,true,false);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;if&nbsp;(m_chartType.equals(&#34;H.3DBar&#34;))<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;chart&nbsp;=&nbsp;ChartFactory.createBarChart3D(&#34;Sales&nbsp;by&nbsp;Product&nbsp;and&nbsp;Region&#34;,&#34;Region&#34;,&#34;Product&nbsp;Revenue&nbsp;(Mio&nbsp;EUR)&#34;,ds,PlotOrientation.HORIZONTAL,true,true,false);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;if&nbsp;(m_chartType.equals(&#34;V.3DBar&#34;))<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;chart&nbsp;=&nbsp;ChartFactory.createBarChart3D(&#34;Sales&nbsp;by&nbsp;Product&nbsp;and&nbsp;Region&#34;,&#34;Region&#34;,&#34;Product&nbsp;Revenue&nbsp;(Mio&nbsp;EUR)&#34;,ds,PlotOrientation.VERTICAL,true,true,false);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;if&nbsp;(m_chartType.equals(&#34;H.3DLine&#34;))<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;chart&nbsp;=&nbsp;ChartFactory.createLineChart3D(&#34;Sales&nbsp;by&nbsp;Product&nbsp;and&nbsp;Region&#34;,&#34;Region&#34;,&#34;Product&nbsp;Revenue&nbsp;(Mio&nbsp;EUR)&#34;,ds,PlotOrientation.HORIZONTAL,true,true,false);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;if&nbsp;(m_chartType.equals(&#34;V.3DLine&#34;))<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;chart&nbsp;=&nbsp;ChartFactory.createLineChart3D(&#34;Sales&nbsp;by&nbsp;Product&nbsp;and&nbsp;Region&#34;,&#34;Region&#34;,&#34;Product&nbsp;Revenue&nbsp;(Mio&nbsp;EUR)&#34;,ds,PlotOrientation.VERTICAL,true,true,false);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;if&nbsp;(m_chartType.equals(&#34;H.Area&#34;))<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;chart&nbsp;=&nbsp;ChartFactory.createAreaChart(&#34;Sales&nbsp;by&nbsp;Product&nbsp;and&nbsp;Region&#34;,&#34;Region&#34;,&#34;Product&nbsp;Revenue&nbsp;(Mio&nbsp;EUR)&#34;,ds,PlotOrientation.HORIZONTAL,true,true,false);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;if&nbsp;(m_chartType.equals(&#34;V.Area&#34;))<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;chart&nbsp;=&nbsp;ChartFactory.createAreaChart(&#34;Sales&nbsp;by&nbsp;Product&nbsp;and&nbsp;Region&#34;,&#34;Region&#34;,&#34;Product&nbsp;Revenue&nbsp;(Mio&nbsp;EUR)&#34;,ds,PlotOrientation.VERTICAL,true,true,false);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ByteArrayOutputStream&nbsp;bos&nbsp;=&nbsp;new&nbsp;ByteArrayOutputStream();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ChartUtilities.writeChartAsPNG(bos,&nbsp;chart,&nbsp;400,&nbsp;300);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bos.close();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;byte[]&nbsp;image&nbsp;=&nbsp;bos.toByteArray();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m_image&nbsp;=&nbsp;ValueManager.encodeHexString(image);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;catch&nbsp;(Throwable&nbsp;t)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CLog.L.log(CLog.LL_ERR,&#34;&#34;,t);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>}<br></p>
</body>
</html>
