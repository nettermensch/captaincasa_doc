<html>
<head>
<style>
.java {font-family: monospace;background-color: #F0F0F0;}
.xml {font-family: monospace;background-color: #F0F0F0;}
</style>
</head>
<body>
<p>The context of this demo is the creation of a dialog using the CaptainCasa framework for the following purpose: <ul><li>Components</li><li>Straight Controls</li><li>Hot Keys</li><li>Associated with popup menus</li></ul></p>
<p>Use the POPUPMENU definition in order to very flexibly assign hot keys to page areas or individual component instances.<br><br>In the first example a popup menu &#34;HOTKEYS&#34; is defined on SHADOWEDPANE level, that provides three menu items. Each menu item is associated with a hotkey definition using its HOTKEY attribute. On server side the menu item is bound to an actionListener that reacts correspondingly.<br><br>In the second example the popup menu &#34;VALIDATE&#34; is defined with each individual field. The binding to the server side processing is not done by implementing an actionListener for the MENUITEM, but by using the actionListener definitions for each field.<br><br>You see: there are two types of binding the server side processing, that can be used in parallel:<br><br>(1) by implementing the MENUITEM actionListener<br>(2) by implementing the actionListener of this component on which the hotkey was executed and on which the popup menu was bound<br><br>When using the 2nd way then it is important to define the COMMAND attribute with the MENUITEM: it allows to differenciate between different hotkeys/ menu items that are executed on one component.</p>
<p>This is the XML layout definition:</p>
<p class="xml">&lt;?xml&nbsp;version=&#34;1.0&#34;&nbsp;encoding=&#34;utf-8&#34;?&gt;<br>&lt;t:layoutdefinition&nbsp;xmlns:t=&#34;http://www.CaptainCasa.com/controllibrary/t&#34;&nbsp;xmlns:tpbc=&#34;http://www.CaptainCasa.com/controllibrary/tpbc&#34;&nbsp;&gt;<br>&lt;t:rowdemobodypane&nbsp;id=&#34;g_1&#34;&nbsp;objectbinding=&#34;#{d.DemoHotkeysPopupMenu}&#34;&nbsp;rowdistance=&#34;#{ccstylevalue[&#39;@defaultrowdistance@&#39;]}&#34;&nbsp;&gt;<br>&lt;t:row&nbsp;id=&#34;g_2&#34;&nbsp;&gt;<br>&lt;t:pane&nbsp;id=&#34;g_3&#34;&nbsp;background=&#34;#00000008&#34;&nbsp;padding=&#34;10&#34;&nbsp;popupmenu=&#34;HOTKEYS&#34;&nbsp;rowdistance=&#34;4&#34;&nbsp;width=&#34;100%&#34;&nbsp;&gt;<br>&lt;t:row&nbsp;id=&#34;g_4&#34;&nbsp;&gt;<br>&lt;t:label&nbsp;id=&#34;g_5&#34;&nbsp;text=&#34;Hotkeys&nbsp;associated&nbsp;with&nbsp;a&nbsp;popup&nbsp;menu:&#34;&nbsp;/&gt;<br>&lt;/t:row&gt;<br>&lt;t:row&nbsp;id=&#34;g_6&#34;&nbsp;&gt;<br>&lt;t:label&nbsp;id=&#34;g_7&#34;&nbsp;text=&#34;ctrl-s,&nbsp;ctrl-F4,&nbsp;Enter&#34;&nbsp;/&gt;<br>&lt;/t:row&gt;<br>&lt;t:rowdistance&nbsp;id=&#34;g_8&#34;&nbsp;height=&#34;20&#34;&nbsp;/&gt;<br>&lt;t:row&nbsp;id=&#34;g_9&#34;&nbsp;&gt;<br>&lt;t:label&nbsp;id=&#34;g_10&#34;&nbsp;text=&#34;Name&#34;&nbsp;width=&#34;100&#34;&nbsp;/&gt;<br>&lt;t:field&nbsp;id=&#34;g_11&#34;&nbsp;text=&#34;#{d.DemoHotkeysPopupMenu.name}&#34;&nbsp;width=&#34;100&#34;&nbsp;/&gt;<br>&lt;/t:row&gt;<br>&lt;t:row&nbsp;id=&#34;g_12&#34;&nbsp;&gt;<br>&lt;t:label&nbsp;id=&#34;g_13&#34;&nbsp;text=&#34;Company&#34;&nbsp;width=&#34;100&#34;&nbsp;/&gt;<br>&lt;t:combobox&nbsp;id=&#34;g_14&#34;&nbsp;editable=&#34;true&#34;&nbsp;value=&#34;#{d.DemoHotkeysPopupMenu.company}&#34;&nbsp;width=&#34;100&#34;&nbsp;&gt;<br>&lt;t:comboboxitem&nbsp;id=&#34;g_15&#34;&nbsp;text=&#34;CaptainCasa&#34;&nbsp;value=&#34;CaptainCasa&#34;&nbsp;/&gt;<br>&lt;t:comboboxitem&nbsp;id=&#34;g_16&#34;&nbsp;text=&#34;IBM&#34;&nbsp;value=&#34;IBM&#34;&nbsp;/&gt;<br>&lt;t:comboboxitem&nbsp;id=&#34;g_17&#34;&nbsp;text=&#34;SAP&#34;&nbsp;value=&#34;SAP&#34;&nbsp;/&gt;<br>&lt;/t:combobox&gt;<br>&lt;/t:row&gt;<br>&lt;/t:pane&gt;<br>&lt;/t:row&gt;<br>&lt;t:rowdistance&nbsp;id=&#34;g_18&#34;&nbsp;height=&#34;10&#34;&nbsp;/&gt;<br>&lt;t:row&nbsp;id=&#34;g_19&#34;&nbsp;&gt;<br>&lt;t:pane&nbsp;id=&#34;g_20&#34;&nbsp;background=&#34;#00000008&#34;&nbsp;padding=&#34;10&#34;&nbsp;rowdistance=&#34;4&#34;&nbsp;width=&#34;100%&#34;&nbsp;&gt;<br>&lt;t:row&nbsp;id=&#34;g_21&#34;&nbsp;&gt;<br>&lt;t:label&nbsp;id=&#34;g_22&#34;&nbsp;text=&#34;Hotkeys&nbsp;associated&nbsp;with&nbsp;a&nbsp;popup&nbsp;menu&nbsp;on&nbsp;fields:&#34;&nbsp;/&gt;<br>&lt;/t:row&gt;<br>&lt;t:row&nbsp;id=&#34;g_23&#34;&nbsp;&gt;<br>&lt;t:label&nbsp;id=&#34;g_24&#34;&nbsp;text=&#34;Enter&#34;&nbsp;/&gt;<br>&lt;/t:row&gt;<br>&lt;t:rowdistance&nbsp;id=&#34;g_25&#34;&nbsp;height=&#34;20&#34;&nbsp;/&gt;<br>&lt;t:row&nbsp;id=&#34;g_26&#34;&nbsp;&gt;<br>&lt;t:label&nbsp;id=&#34;g_27&#34;&nbsp;text=&#34;Street&#34;&nbsp;width=&#34;100&#34;&nbsp;/&gt;<br>&lt;t:textarea&nbsp;id=&#34;g_28&#34;&nbsp;actionListener=&#34;#{d.DemoHotkeysPopupMenu.onStreetAction}&#34;&nbsp;height=&#34;100&#34;&nbsp;popupmenu=&#34;VALIDATEPOPUP&#34;&nbsp;text=&#34;#{d.DemoHotkeysPopupMenu.street}&#34;&nbsp;width=&#34;100%&#34;&nbsp;/&gt;<br>&lt;/t:row&gt;<br>&lt;t:row&nbsp;id=&#34;g_29&#34;&nbsp;&gt;<br>&lt;t:label&nbsp;id=&#34;g_30&#34;&nbsp;text=&#34;City&#34;&nbsp;width=&#34;100&#34;&nbsp;/&gt;<br>&lt;t:field&nbsp;id=&#34;g_31&#34;&nbsp;actionListener=&#34;#{d.DemoHotkeysPopupMenu.onCityAction}&#34;&nbsp;popupmenu=&#34;VALIDATEPOPUP&#34;&nbsp;text=&#34;#{d.DemoHotkeysPopupMenu.city}&#34;&nbsp;width=&#34;100&#34;&nbsp;/&gt;<br>&lt;/t:row&gt;<br>&lt;/t:pane&gt;<br>&lt;/t:row&gt;<br>&lt;t:rowdistance&nbsp;id=&#34;g_32&#34;&nbsp;height=&#34;20&#34;&nbsp;/&gt;<br>&lt;/t:rowdemobodypane&gt;<br>&lt;t:popupmenu&nbsp;id=&#34;HOTKEYS&#34;&nbsp;&gt;<br>&lt;t:menuitem&nbsp;id=&#34;g_33&#34;&nbsp;actionListener=&#34;#{d.DemoHotkeysPopupMenu.onFunctionSave}&#34;&nbsp;hotkey=&#34;ctrl-83&#34;&nbsp;text=&#34;Save&#34;&nbsp;/&gt;<br>&lt;t:menuitem&nbsp;id=&#34;g_34&#34;&nbsp;actionListener=&#34;#{d.DemoHotkeysPopupMenu.onFunctionClose}&#34;&nbsp;hotkey=&#34;ctrl-115&#34;&nbsp;text=&#34;Close&#34;&nbsp;/&gt;<br>&lt;t:menuitem&nbsp;id=&#34;g_35&#34;&nbsp;actionListener=&#34;#{d.DemoHotkeysPopupMenu.onFunctionEnter}&#34;&nbsp;hotkey=&#34;10&#34;&nbsp;text=&#34;Enter&#34;&nbsp;/&gt;<br>&lt;t:menuitem&nbsp;id=&#34;g_36&#34;&nbsp;actionListener=&#34;#{d.DemoHotkeysPopupMenu.onFunctionAbout}&#34;&nbsp;hotkey=&#34;ctrl-112&#34;&nbsp;hotkeyonly=&#34;true&#34;&nbsp;text=&#34;About&#34;&nbsp;/&gt;<br>&lt;/t:popupmenu&gt;<br>&lt;t:popupmenu&nbsp;id=&#34;VALIDATEPOPUP&#34;&nbsp;&gt;<br>&lt;t:menuitem&nbsp;id=&#34;g_37&#34;&nbsp;command=&#34;VALIDATE&#34;&nbsp;hotkey=&#34;10&#34;&nbsp;text=&#34;Validate&#34;&nbsp;/&gt;<br>&lt;/t:popupmenu&gt;<br>&lt;t:pageaddons&nbsp;id=&#34;g_pa&#34;/&gt;<br>&lt;/t:layoutdefinition&gt;</p>
<p>This is the Java code:</p>
<p class="java">package&nbsp;workplace;<br><br>import&nbsp;javax.faces.event.ActionEvent;<br><br>import&nbsp;org.eclnt.editor.annotations.CCGenClass;<br>import&nbsp;org.eclnt.jsfserver.defaultscreens.OKPopup;<br>import&nbsp;org.eclnt.jsfserver.defaultscreens.Statusbar;<br>import&nbsp;org.eclnt.jsfserver.elements.events.BaseActionEventPopupMenuItem;<br>import&nbsp;org.eclnt.workplace.IWorkpageDispatcher;<br><br><br>@CCGenClass&nbsp;(expressionBase=&#34;#{d.demoHotkeysPopupMenu}&#34;)<br><br>public&nbsp;class&nbsp;DemoHotkeysPopupMenu&nbsp;extends&nbsp;WorkpageDispatchedPageBean<br>{<br>&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;m_name;<br>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;setName(String&nbsp;value)&nbsp;{&nbsp;m_name&nbsp;=&nbsp;value;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;String&nbsp;getName()&nbsp;{&nbsp;return&nbsp;m_name;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;m_company;<br>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;setCompany(String&nbsp;value)&nbsp;{&nbsp;m_company&nbsp;=&nbsp;value;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;String&nbsp;getCompany()&nbsp;{&nbsp;return&nbsp;m_company;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;DemoHotkeysPopupMenu(IWorkpageDispatcher&nbsp;dispatcher)<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;super(dispatcher);<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;onFunctionClose(ActionEvent&nbsp;event)&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Statusbar.outputSuccess(&#34;Close&nbsp;was&nbsp;excecuted&#34;&nbsp;+&nbsp;buildValueString());<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;onFunctionSave(ActionEvent&nbsp;ae)<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Statusbar.outputSuccess(&#34;Save&nbsp;was&nbsp;excecuted&#34;&nbsp;+&nbsp;buildValueString());<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;onFunctionReturn(ActionEvent&nbsp;ae)<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Statusbar.outputSuccess(&#34;Return&nbsp;was&nbsp;excecuted&#34;&nbsp;+&nbsp;buildValueString());<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;onFunctionEnter(ActionEvent&nbsp;ae)<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Statusbar.outputSuccess(&#34;Enter&nbsp;was&nbsp;excecuted&#34;&nbsp;+&nbsp;buildValueString());<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;void&nbsp;onFunctionAbout(ActionEvent&nbsp;event)<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OKPopup.createInstance(&#34;About&#34;,&#34;CaptainCasa&nbsp;Enteprise&nbsp;Client&#92;n&#92;nhttp://www.captaincasa.com&#34;);<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;------------------------------------------------------------------------<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;m_street;<br>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;setStreet(String&nbsp;value)&nbsp;{&nbsp;m_street&nbsp;=&nbsp;value;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;String&nbsp;getStreet()&nbsp;{&nbsp;return&nbsp;m_street;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;m_city;<br>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;setCity(String&nbsp;value)&nbsp;{&nbsp;m_city&nbsp;=&nbsp;value;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;String&nbsp;getCity()&nbsp;{&nbsp;return&nbsp;m_city;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;onStreetAction(ActionEvent&nbsp;event)<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(event&nbsp;instanceof&nbsp;BaseActionEventPopupMenuItem)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BaseActionEventPopupMenuItem&nbsp;e&nbsp;=&nbsp;(BaseActionEventPopupMenuItem)event;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Statusbar.outputSuccess(&#34;Street&nbsp;was&nbsp;validated!&nbsp;(&#34;+m_street+&#34;,&#34;+e.getCommand()+&#34;)&#34;);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;onCityAction(ActionEvent&nbsp;event)<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(event&nbsp;instanceof&nbsp;BaseActionEventPopupMenuItem)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BaseActionEventPopupMenuItem&nbsp;e&nbsp;=&nbsp;(BaseActionEventPopupMenuItem)event;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Statusbar.outputSuccess(&#34;City&nbsp;was&nbsp;validated!&nbsp;(&#34;+m_city+&#34;,&#34;+e.getCommand()+&#34;)&#34;);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;------------------------------------------------------------------------<br>&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;private&nbsp;usage<br>&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;------------------------------------------------------------------------<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;String&nbsp;buildValueString()<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#34;&nbsp;(&#34;&nbsp;+&nbsp;m_name&nbsp;+&nbsp;&#34;,&nbsp;&#34;&nbsp;+&nbsp;m_company&nbsp;+&nbsp;&#34;)&#34;;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;<br>}<br></p>
</body>
</html>
